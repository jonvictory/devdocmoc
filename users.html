<!DOCTYPE html>
<html>
  <head>
    <title id="title">Users</title>
    <link rel="stylesheet" type="text/css" href="./res/css/style.css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<meta charset="utf-8"> <!-- Important: rapi-doc uses utf8 charecters -->
  <script type="module" src="https://unpkg.com/rapidoc/dist/rapidoc-min.js">
  
  </script>
  </head>
  <header>
    <!-- Navbar -->
    <div class="container" id="cont-nav"></div>
  </header>
  <body onload="cookiePuke(), checkCookie()">
    <!--title-->
    <div class="container-fluid">
      <div class="container head-tain">
        <h1 id="cur-page-title"></h1>
      </div>
      <!-- Sidebar -->
      <div class="row">
        <div class="col-2 menu-nav-align">
          <ul
            id="side-menu"
            class="nav flex-column menu-nav-space menu-nav-cont"
          ></ul>
        </div>
        <!-- Unique Page Content -->
        <div class="main-tain col-8">
        <p>
          The User objects and endpoints allow you to interact with the Workfront API from the User perspective.
        </p>
        <p>
         The following are some examples of common ways to interact
          with the User objects and endpoints with the Workfront API:
        </p>
        <ul>
          <li>Log users in and out of the Workfront system.</li>
          <li>Create users and include custom data in the user profile.</li>
          <li>
            Get user data from Workfront to use with a third-party application.
            This can include parameterValues or custom data.
          </li>
          <li>
            Update user profile information. For example, update a user's last
            name, team or role, email address, and so forth.
          </li>
          <li>
            Delete or deactivate users from the Workfront system when they leave
            the organization. For example, integrate Workfront with your Single
            Sign-On solution to deactivate users at the time they are
            deactivated in the Identity Provider.
          </li>
        </ul>
        <div class='box'>
        
        <rapi-doc id="rapi-doc"
        spec-url="https://cdn.devdocs-dev.workfront-dev.com/res/swagger/swagger040620/attask-USER040620.json" 
        show-header = 'true'
        show-info = 'true'
        allow-authentication ='false'
        allow-server-selection = 'false'
        allow-api-list-style-selection ='false'
        api-key-value = ''
        api-key-location = 'query'
        
        default-api-server = ''
        theme = 'light' 
        layout = 'row'
        default-api-server = ''
        >
        <img class="ui-logo" slot="logo" src = "https://cdn.devdocs-dev.workfront-dev.com/res/img/workfront-orange.svg"/>
        <div class="container cont-input">
          <div class="row">
            <div class="col-md">
            <input id='key-input' type='text' >
            <lable style="padding-left: 20px" for="key-input">Api Key</lable>
            <div class="row">
                <input id='server-input' type='text'>
                <lable style="padding-left: 20px" for="server-input">Company Name</lable>
            </div>
            
          </div>
        </div>
        <div class="col-md">
          <button class='btn btn-primary butt' onclick='setApiKey(),setApiServer(),setCookie("username", customServerID, "key", customApiKey, "server", customServerURL, 7);' >Submit</button >
          </div>

          <div class="col-md">
              <button class='btn btn-primary butt' onclick='checkCookie(), cookiePuke()' >RELOAD</button >
              </div>
          
        </div>
      </rapi-doc>
      </div>
          
    </div>
      </div>
    </div>
  </div>
  <script>

    const rapiAsEle = document.getElementById('rapi-doc');
    let customApiKey;
    let customServerID;
    let customServerURL;
    let keyInputAsEle; 
    let serverInputAsEle;

    const setApiKey = () => {
         keyInputAsEle = document.getElementById('key-input');
        
        rapiAsEle.setAttribute('api-key-value', keyInputAsEle.value);

        customApiKey = keyInputAsEle.value

        console.log(rapiAsEle.getAttribute('api-key-value'))
        console.log(customApiKey)
      }
  
    const setApiServer = () => {
          serverInputAsEle = document.getElementById('server-input');
          
          rapiAsEle.setAttribute('server-url', 'https://'+serverInputAsEle.value+'.my.workfront.com');
    
          customServerID = serverInputAsEle.value

          customServerURL = 'https://'+serverInputAsEle.value+'.my.workfront.com'

          
          console.log(rapiAsEle.getAttribute('server-url'))
          console.log(customServerID)
        }
  
        const setCookie = (cname, cvalue, aname, avalue, sname, svalue, exdays) => {

          var d = new Date();
          d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
          var expires = "expires="+d.toUTCString();
          document.cookie = cname + "=" + cvalue;
          document.cookie = aname + "=" + avalue;
          document.cookie = sname + "=" + svalue;
          document.cookie = expires;
          document.cookie = "path=/"
    console.log(document.cookie);
      }
  
  const checkCookie = () => {
    var user = getCookie("username");
    if (user != "") {
      alert("Welcome again " + user);
      var keykey = getCookie("key")
      var serser = getCookie("server")
      console.log(keykey)
      console.log(serser)
    } else {
      user = prompt("Please enter your name:", "");
      if (user != "" && user != null) {
        setCookie("username", customServerID, "key", customApiKey, "server", customServerURL, 7);
      }
    }
  } 

  const getCookie = (cname) => {
    var name = cname + "=";
    var ca = document.cookie.split(';');
    for(var i = 0; i < ca.length; i++) {
      var c = ca[i];
      while (c.charAt(0) == ' ') {
        c = c.substring(1);
      }
      if (c.indexOf(name) == 0) {
        return c.substring(name.length, c.length);
      }
    }
  return "";
}
  const cookiePuke = () => {
    // const rapiAsEle = document.getElementById('rapi-doc');
    console.log(rapiAsEle.getAttribute('api-key-value'))
    console.log(rapiAsEle.getAttribute('server-url'))
    console.log(document.cookie);
  }

  </script>
    <script src="./res/js/js.js"></script>
    
  </body>
  <footer>
      <div class="container-fluid foot-pad">
          <div class="row">
            <div class= "col-md">
              <h4 class="foot-head"><a target="_blank" href="https://www.workfront.com/why-workfront">Why Workfront</a></h4>
              
            </div>
            <div class= "col-md">
                <h4 class="foot-head"><a target="_blank" href="https://www.workfront.com/solutions">Solutions</a></h4>
            </div>
            <div class= "col-md">
                <h4 class="foot-head"><a target="_blank" href="https://www.workfront.com/products">Products</a></h4>
                
            </div>
            <div class= "col-md">
                <h4 class="foot-head"><a target="_blank" href="https://www.workfront.com/resources">All Resources</a></h4>
              <ul class="foot-list">
                </div>
            <div class= "col-md">
                <h4 class="foot-head"><a target="_blank" href="https://www.workfront.com/services-and-support">Support</a></h4>
              </div>
            <div class= "col-md">
                <h4 class="foot-head"><a target="_blank" href="https://www.workfront.com/about-us">About</a></h4>
              </div>
          </div>
        </div>
  </footer>
</html>
